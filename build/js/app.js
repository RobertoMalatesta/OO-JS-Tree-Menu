!function(){"use strict";function t(){var t=this;t.arrAllMenuObjects=[],t.arrMainMenuItems=[];var n=function(t){var e=new XMLHttpRequest;e.overrideMimeType("application/json"),e.open("GET","menu.json",!0),e.onreadystatechange=function(){console.log("typeof xobj.readyState: ",typeof e.readyState,e.readyState),console.log("typeof xobj.status: ",typeof e.status,e.status),4===e.readyState&&200===e.status&&t(e.responseText)},e.send(null)},i=function(n){var i,r=n.menu;for(i=0;i<r.length;i++){var s=new e(r[i]);t.arrMainMenuItems.push(s),t.arrAllMenuObjects.push(s);var a=s.menu;if(null!==a){var o;for(o=0;o<a.length;o++){var l=new e(a[o]);t.arrAllMenuObjects.push(l)}}}},r=function(){if(t.container||(t.container=document.getElementById("menu-container")),null===t.container)throw new Error("There is no menu container element in the DOM.");return t.container},s=function(){var e,n=document.createElement("ul");for(e=0;e<t.arrMainMenuItems.length;e++)n.appendChild(t.arrMainMenuItems[e].draw());r().appendChild(n)},a=function(){r().addEventListener("click",function(t){""!==t.target.id&&o(t.target.id)})},o=function(e){t.arrAllMenuObjects.map(function(t){t.id===e&&t.displayContent()}),l(e)},l=function(t){var e=document.getElementById(t);if(e.children.length>0){var n=e.firstElementChild.style.display;e.firstElementChild.style.display="block"===n?"none":"block"}};this.init=function(){n(function(t){try{var e=JSON.parse(t);i(e),s(),a()}catch(n){throw new Error("Failed loading JSON source file.")}})}}function e(t){for(var e in t)e in t&&(this[e]=t[e])}e.prototype.displayContent=function(){document.getElementById("content").innerHTML=this.content},e.prototype.draw=function(){var t=document.createElement("li");t.setAttribute("id",this.id),t.setAttribute("class",this.cssClass),t.innerHTML=this.description;var e=this.menu;if(null!==e){t.setAttribute("id",this.id),t.setAttribute("class",this.cssClass),t.setAttribute("style","border-right: 5px solid orange"),t.innerHTML=this.description;var n=document.createElement("ul");n.setAttribute("id",this.id),n.setAttribute("style","display: none");var i;for(i=0;i<e.length;i++){var r=document.createElement("li");r.setAttribute("id",e[i].id),r.setAttribute("class",e[i].cssClass),r.innerHTML=e[i].description,n.appendChild(r)}t.appendChild(n)}return t};var n=new t;n.init()}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJNZW51IiwidGhhdCIsInRoaXMiLCJhcnJBbGxNZW51T2JqZWN0cyIsImFyck1haW5NZW51SXRlbXMiLCJsb2FkSlNPTiIsImNhbGxiYWNrIiwieG9iaiIsIlhNTEh0dHBSZXF1ZXN0Iiwib3ZlcnJpZGVNaW1lVHlwZSIsIm9wZW4iLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJjb25zb2xlIiwibG9nIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsInNlbmQiLCJjb252ZXJ0RGF0YSIsImpzb25EYXRhIiwiaSIsImFyck1lbnUiLCJtZW51IiwibGVuZ3RoIiwibWVudUl0ZW0iLCJNZW51SXRlbSIsInB1c2giLCJhcnJTdWJNZW51IiwiaiIsInN1Yk1lbnVJdGVtIiwiZ2V0Q29udGFpbmVyIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIkVycm9yIiwiZHJhdyIsInVsTWVudSIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImF0dGFjaExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0IiwiaWQiLCJkaXNwbGF5Q29udGVudCIsIml0ZW1JZCIsIm1hcCIsIm9iaiIsInRvZ2dsZVN1Yk1lbnVJdGVtcyIsImNsaWNrZWRJdGVtIiwiY2hpbGRyZW4iLCJpc0Rpc3BsYXllZCIsImZpcnN0RWxlbWVudENoaWxkIiwic3R5bGUiLCJkaXNwbGF5IiwiaW5pdCIsInJlc3BvbnNlIiwiYWN0dWFsSnNvbiIsIkpTT04iLCJwYXJzZSIsInZhbHVlIiwia2V5IiwicHJvdG90eXBlIiwiaW5uZXJIVE1MIiwiY29udGVudCIsImxpIiwic2V0QXR0cmlidXRlIiwiY3NzQ2xhc3MiLCJkZXNjcmlwdGlvbiIsInVsIiwiaW5uZXJMaSJdLCJtYXBwaW5ncyI6IkNBTUEsV0FDSSxZQU1BLFNBQVNBLEtBQ0wsR0FBSUMsR0FBT0MsSUFDWEQsR0FBS0UscUJBQ0xGLEVB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QyxJQUMzQnNCLEVBQUdDLGFBQWEsUUFBU2hFLEtBQUtpRSxVQUM5QkYsRUFBR0MsYUFBYSxRQUFTLGtDQUN6QkQsRUFBR0YsVUFBWTdELEtBQUtrRSxXQUVwQixJQUFJQyxHQUFLckMsU0FBU0ssY0FBYyxLQUNoQ2dDLEdBQUdILGFBQWEsS0FBTWhFLEtBQUt5QyxJQUMzQjBCLEVBQUdILGFBQWEsUUFBUyxnQkFFekIsSUFBSXRDLEVBQ0osS0FBS0EsRUFBSSxFQUFHQSxFQUFJRCxFQUFXSixPQUFRSyxJQUFLLENBQ3BDLEdBQUkwQyxHQUFVdEMsU0FBU0ssY0FBYyxLQUNyQ2lDLEdBQVFKLGFBQWEsS0FBTXZDLEVBQVdDLEdBQUdlLElBQ3pDMkIsRUFBUUosYUFBYSxRQUFTdkMsRUFBV0MsR0FBR3VDLFVBQzVDRyxFQUFRUCxVQUFZcEMsRUFBV0MsR0FBR3dDLFlBQ2xDQyxFQUFHL0IsWUFBWWdDLEdBRW5CTCxFQUFHM0IsWUFBWStCLEdBR25CLE1BQU9KLEdBSVgsSUFBSTNDLEdBQU8sR0FBSXRCLEVBQ2ZzQixHQUFLaUMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIE9PIEpTIHRhc2sgLSBUcmVlIG1lbnVcclxuICpcclxuICogQGF1dGhvcjogTWloYWlsIEdhYmVyb3ZcclxuICogQGVtYWlsOiBtZUBtaWhhaWwtZ2FiZXJvdi5ldVxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNYWluIG1lbnUgb2JqZWN0XHJcbiAgICAgKiBSZXNwb25zaWJsZSBmb3IgbG9hZGluZyBhbmQgcGFyc2luZyBKU09OLCBpbml0aWFsaXplIGFuZCBkcmF3IHRoZSB0cmVlIG1lbnVcclxuICAgICAqIEBjb25zdHJ1Y3RvclxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBNZW51KCkge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgICB0aGF0LmFyckFsbE1lbnVPYmplY3RzID0gW107XHJcbiAgICAgICAgdGhhdC5hcnJNYWluTWVudUl0ZW1zID0gW107XHJcblxyXG4gICAgICAgIHZhciBsb2FkSlNPTiA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB2YXIgeG9iaiA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgICAgICAgICAgeG9iai5vdmVycmlkZU1pbWVUeXBlKFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuICAgICAgICAgICAgeG9iai5vcGVuKFwiR0VUXCIsIFwibWVudS5qc29uXCIsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgeG9iai5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndHlwZW9mIHhvYmoucmVhZHlTdGF0ZTogJywgdHlwZW9mIHhvYmoucmVhZHlTdGF0ZSwgeG9iai5yZWFkeVN0YXRlKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0eXBlb2YgeG9iai5zdGF0dXM6ICcsIHR5cGVvZiB4b2JqLnN0YXR1cywgeG9iai5zdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHhvYmoucmVhZHlTdGF0ZSA9PT0gNCAmJiB4b2JqLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soeG9iai5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB4b2JqLnNlbmQobnVsbCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29udmVydHMganNvbiBkYXRhIHRvIGpzIG9iamVjdHNcclxuICAgICAgICAgKiBAcGFyYW0ganNvbkRhdGFcclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgY29udmVydERhdGEgPSBmdW5jdGlvbihqc29uRGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgYXJyTWVudSA9IGpzb25EYXRhLm1lbnU7XHJcblxyXG4gICAgICAgICAgICB2YXIgaTtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyck1lbnUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBtZW51SXRlbSA9IG5ldyBNZW51SXRlbShhcnJNZW51W2ldKTtcclxuICAgICAgICAgICAgICAgIHRoYXQuYXJyTWFpbk1lbnVJdGVtcy5wdXNoKG1lbnVJdGVtKTtcclxuICAgICAgICAgICAgICAgIHRoYXQuYXJyQWxsTWVudU9iamVjdHMucHVzaChtZW51SXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFyclN1Yk1lbnUgPSBtZW51SXRlbS5tZW51O1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyclN1Yk1lbnUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgajtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgYXJyU3ViTWVudS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ViTWVudUl0ZW0gPSBuZXcgTWVudUl0ZW0oYXJyU3ViTWVudVtqXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuYXJyQWxsTWVudU9iamVjdHMucHVzaChzdWJNZW51SXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGdldENvbnRhaW5lciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoYXQuY29udGFpbmVyKVxyXG4gICAgICAgICAgICAgICAgdGhhdC5jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lbnUtY29udGFpbmVyXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoYXQuY29udGFpbmVyID09PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgaXMgbm8gbWVudSBjb250YWluZXIgZWxlbWVudCBpbiB0aGUgRE9NLlwiKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGF0LmNvbnRhaW5lcjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEcmF3cyB0aGUgbWVudSBhY2NvcmRpbmcgdG8gdGhlIHBhc3NlZCBqc29uIGRhdGFcclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgZHJhdyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdWxNZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGF0LmFyck1haW5NZW51SXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHVsTWVudS5hcHBlbmRDaGlsZCh0aGF0LmFyck1haW5NZW51SXRlbXNbaV0uZHJhdygpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZ2V0Q29udGFpbmVyKCkuYXBwZW5kQ2hpbGQodWxNZW51KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBdHRhY2hlcyBldmVudCBsaXN0ZW5lcnMgdG8gYWxsIG1lbnUgaXRlbXNcclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgYXR0YWNoTGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGdldENvbnRhaW5lcigpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuaWQgIT09IFwiXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUNvbnRlbnQoZS50YXJnZXQuaWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgZGlzcGxheUNvbnRlbnQgPSBmdW5jdGlvbihpdGVtSWQpIHtcclxuICAgICAgICAgICAgdGhhdC5hcnJBbGxNZW51T2JqZWN0cy5tYXAoZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5pZCA9PT0gaXRlbUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLmRpc3BsYXlDb250ZW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0b2dnbGVTdWJNZW51SXRlbXMoaXRlbUlkKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgdG9nZ2xlU3ViTWVudUl0ZW1zID0gZnVuY3Rpb24oaXRlbUlkKSB7XHJcbiAgICAgICAgICAgIHZhciBjbGlja2VkSXRlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGl0ZW1JZCk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHN1Ym1lbnUgLSB0b2dnbGUgaXRcclxuICAgICAgICAgICAgaWYgKGNsaWNrZWRJdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc0Rpc3BsYXllZCA9IGNsaWNrZWRJdGVtLmZpcnN0RWxlbWVudENoaWxkLnN0eWxlLmRpc3BsYXk7XHJcbiAgICAgICAgICAgICAgICBjbGlja2VkSXRlbS5maXJzdEVsZW1lbnRDaGlsZC5zdHlsZS5kaXNwbGF5ID0gKGlzRGlzcGxheWVkID09PSAnYmxvY2snID8gJ25vbmUnIDogJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW5pdGlhbGl6ZSB0aGUgcHJvamVjdFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsb2FkSlNPTihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIC8vIFBhcnNlIEpTT04gc3RyaW5nIGludG8gb2JqZWN0XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3R1YWxKc29uID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udmVydERhdGEoYWN0dWFsSnNvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCBsb2FkaW5nIEpTT04gc291cmNlIGZpbGUuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWVudSBJdGVtIG9iamVjdFxyXG4gICAgICogQ29udGFpbmluZyBhbGwgdGhlIGluZm8gdGhlIGEgbWVudSBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBjb25zdHJ1Y3RvclxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBNZW51SXRlbSh2YWx1ZSkge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoa2V5IGluIHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgdGhpc1trZXldID0gdmFsdWVba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwbGF5cyB0aGUgY29udGVudCBvZiBhIHNlbGVjdGVkIG1lbnUgb24gdGhlIHBhZ2VcclxuICAgICAqL1xyXG4gICAgTWVudUl0ZW0ucHJvdG90eXBlLmRpc3BsYXlDb250ZW50ID0gZnVuY3Rpb24gZGlzcGxheUNvbnRlbnQoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpLmlubmVySFRNTCA9IHRoaXMuY29udGVudDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgSFRNTCBuZWVkZWQgdG8gZHJhdyBhIG1lbnUgaXRlbSBhbmQgaXRzIHN1YiBpdGVtcyBpZiBhbnlcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIE1lbnVJdGVtLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gZHJhdygpIHtcclxuICAgICAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgICAgIGxpLnNldEF0dHJpYnV0ZShcImlkXCIsIHRoaXMuaWQpO1xyXG4gICAgICAgIGxpLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHRoaXMuY3NzQ2xhc3MpO1xyXG4gICAgICAgIGxpLmlubmVySFRNTCA9IHRoaXMuZGVzY3JpcHRpb247XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciBzdWJtZW51IG5vZGVzXHJcbiAgICAgICAgdmFyIGFyclN1Yk1lbnUgPSB0aGlzLm1lbnU7XHJcbiAgICAgICAgaWYgKGFyclN1Yk1lbnUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgbGkuc2V0QXR0cmlidXRlKFwiaWRcIiwgdGhpcy5pZCk7XHJcbiAgICAgICAgICAgIGxpLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHRoaXMuY3NzQ2xhc3MpO1xyXG4gICAgICAgICAgICBsaS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImJvcmRlci1yaWdodDogNXB4IHNvbGlkIG9yYW5nZVwiKTtcclxuICAgICAgICAgICAgbGkuaW5uZXJIVE1MID0gdGhpcy5kZXNjcmlwdGlvbjtcclxuXHJcbiAgICAgICAgICAgIHZhciB1bCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcclxuICAgICAgICAgICAgdWwuc2V0QXR0cmlidXRlKFwiaWRcIiwgdGhpcy5pZCk7XHJcbiAgICAgICAgICAgIHVsLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiZGlzcGxheTogbm9uZVwiKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBqO1xyXG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgYXJyU3ViTWVudS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlubmVyTGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICAgICAgICAgICAgICBpbm5lckxpLnNldEF0dHJpYnV0ZShcImlkXCIsIGFyclN1Yk1lbnVbal0uaWQpO1xyXG4gICAgICAgICAgICAgICAgaW5uZXJMaS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBhcnJTdWJNZW51W2pdLmNzc0NsYXNzKTtcclxuICAgICAgICAgICAgICAgIGlubmVyTGkuaW5uZXJIVE1MID0gYXJyU3ViTWVudVtqXS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKGlubmVyTGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKHVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGxpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgdmFyIG1lbnUgPSBuZXcgTWVudSgpO1xyXG4gICAgbWVudS5pbml0KCk7XHJcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
